  <!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1, user-scalable=no"/>
  <title>Fantasy Egypt Pro â€” ØªØ·Ø¨ÙŠÙ‚</title>
  <meta name="description" content="Ù„ÙˆØ­Ø© Ø§Ù„ÙØ§Ù†ØªØ²ÙŠ: ØªÙØ¶ÙŠÙ„Ø§ØªÙƒØŒ Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ†ØŒ ÙˆØ¨Ù†Ø§Ø¡ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø©.">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
  html,body{margin:0;padding:0}
    body{background:#07090B;color:#fff}
    .ring{box-shadow:0 0 0 1px rgba(148,163,184,.2) inset}
    .glass{background:rgba(15,23,42,.6);backdrop-filter:blur(8px)}
    html{-webkit-text-size-adjust:100%}

    /* ØªØ±Ø§Ù†Ø²ÙŠØ´Ù†Ø§Øª Ø³Ù…ÙˆØ² */
    .fade{transition:opacity .28s ease, transform .28s ease}
    .invis{opacity:0; transform:translateY(8px) scale(.98)}
    .vis  {opacity:1; transform:translateY(0)  scale(1)}
    .tab-hide{opacity:0; transform:scale(.98); pointer-events:none}
    .tab-show{opacity:1; transform:scale(1); pointer-events:auto; transition:opacity .25s ease, transform .25s ease}

    /* ÙƒØ§Ø±Ø¯ Ø§Ù„Ù…Ù„Ø¹Ø¨ */
    .bg-card img{
  position:absolute; inset:0; width:100%; height:100%;
  object-fit:cover; object-position:center;
  filter: blur(3px) brightness(.7);
  transform:scale(1.06);
}
.bg-card::after{
  content:""; position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.25), rgba(0,0,0,.48));
}
/* --- Mobile polish --- */
/* --- Mobile polish --- */
/* --- Mobile polish --- */
@media (max-width:640px){
  /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ø§Ù„Ø«Ø§Ø¨Øª Ø£Ø³ÙÙ„ Ø§Ù„Ø´Ø§Ø´Ø© */
  .mobile-tabs{
    position: fixed;
    inset-inline: 0;
    bottom: 0;
    z-index: 50;
    background: rgba(11,18,32,.92);
    backdrop-filter: blur(8px);
    border-top: 1px solid rgba(255,255,255,.08);
  }
  /* ØªØ±Ùƒ Ù‡Ø§Ù…Ø´ Ø£Ø³ÙÙ„ Ø§Ù„ØµÙØ­Ø© Ø­ØªÙ‰ Ù„Ø§ ÙŠÙØºØ·Ù‘Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø§Ù„Ø´Ø±ÙŠØ· */
  body { padding-bottom: 68px; }

  /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ø±ØªÙØ§Ø¹ Ø¨Ø·Ø§Ù‚Ø© â€œØ§Ø¨Ù† ÙØ±ÙŠÙ‚Ùƒ Ø§Ù„Ø¢Ù†â€ ÙˆØ­Ø¬Ù… Ø²Ø±Ù‘Ù‡Ø§ */
  .hero-card { min-height: 200px; }
  .hero-cta  { padding: 10px 14px; border-radius: 14px; }
  .hero-cta span { font-size: 15px; }

  /* ØªØµØºÙŠØ± ØµÙˆØ±Ø© Ø§Ù„Ø£ÙØ§ØªØ§Ø± ÙˆØ­Ø¬Ù… Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… */
  .hdr-avatar   { width: 28px; height: 28px; }
  .hdr-username { font-size: 12px; }

  /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø¨ÙŠÙ† Ø¹Ù†Ø§ØµØ± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±Ù‚ ÙˆØ§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† */
  #teams-list { gap: 10px; }
  #players-list { gap: 10px; }
}
  </style>
</head>
<body class="min-h-screen selection:bg-emerald-600/30">

  <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<header class="sticky top-0 z-40 bg-[#0B1220]/95 border-b border-white/10 backdrop-blur">
  <div class="max-w-7xl mx-auto px-4">
    <!-- ØµÙ Ø§Ù„Ù‡ÙŠØ¯Ø±: flex Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ØŒ grid Ø¨Ø«Ù„Ø§Ø«Ø© Ø£Ø¹Ù…Ø¯Ø© Ù…Ù† Ø´Ø§Ø´Ø© md ÙÙ…Ø§ ÙÙˆÙ‚ -->
    <div class="h-16 flex md:grid items-center justify-between md:grid-cols-3">
      <!-- ÙŠØ³Ø§Ø±: Ø§Ù„Ù„ÙˆØ¬Ùˆ ÙˆØ§Ø³Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
      <div class="md:justify-self-start flex items-center gap-3">
        <div class="h-9 w-9 grid place-items-center rounded-xl ring" style="background:rgba(16,185,129,.15)">
          <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù„ÙˆØ¬Ùˆ -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                  d="M8 21h8m-4-4v4m7-16h2v3a5 5 0 01-5 5h-1.5A3.5 3.5 0 0111 9.5V5h2v4.5m-6 0A3.5 3.5 0 0010.5 13H9A5 5 0 014 8V5h2"/>
          </svg>
        </div>
        <div>
          <p class="text-[11px] text-slate-400">Fantasy Egypt Pro</p>
          <h1 class="text-base font-semibold">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h1>
        </div>
      </div>

      <!-- Ø§Ù„ÙˆØ³Ø·: Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª (ØªØ¸Ù‡Ø± Ø¹Ù„Ù‰ md ÙÙ…Ø§ ÙÙˆÙ‚) -->
      <nav class="hidden md:flex justify-center items-center gap-2 text-sm">
<a href="matches.html" class="px-4 py-2 rounded-xl hover:bg-white/5 ring">Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</a>
        <button data-tab="fantasy" class="tabbtn px-4 py-2 rounded-xl hover:bg-white/5 ring">Ø§Ù„ÙØ§Ù†ØªØ²ÙŠ</button>
        <button data-tab="news"    class="tabbtn px-4 py-2 rounded-xl hover:bg-white/5 ring">Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
      </nav>

      <!-- Ø§Ù„ÙŠÙ…ÙŠÙ†: Ø¨Ø±ÙˆÙØ§ÙŠÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ²Ø± ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª -->
      <div class="md:justify-self-end flex items-center gap-2">
        <div class="flex items-center gap-2 ring rounded-full px-2 py-1 bg-white/5 hover:bg-white/10">
          <div class="h-8 w-8 rounded-full ring grid place-items-center bg-emerald-600/20 hdr-avatar">
            <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø£ÙØ§ØªØ§Ø± -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" class="h-5 w-5">
              <circle cx="18" cy="12" r="6" fill="currentColor"></circle>
              <path d="M6 30c0-6.627 5.373-10 12-10s12 3.373 12 10" fill="currentColor"></path>
            </svg>
          </div>
          <span id="username" class="text-sm font-medium hdr-username">Ø¶ÙŠÙ</span>
        </div>
        <button id="editPrefs" class="text-xs ring px-3 py-2 rounded-xl hover:bg-white/10">
          ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª
        </button>
      </div>
    </div>

    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ -->
    <div class="md:hidden mobile-tabs">
      <div class="px-4 py-2 grid grid-cols-3 gap-2">
       <a href="matches.html"
   class="w-full inline-block text-center px-3 py-2 rounded-xl hover:bg-white/5 ring text-sm">Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</a>
        <button data-tab="fantasy"
                class="tabbtn w-full px-3 py-2 rounded-xl hover:bg-white/5 ring text-sm">Ø§Ù„ÙØ§Ù†ØªØ²ÙŠ</button>
        <button data-tab="news"
                class="tabbtn w-full px-3 py-2 rounded-xl hover:bg-white/5 ring text-sm">Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</button>
      </div>
    </div>
  </div>
</header>
<main class="max-w-7xl mx-auto px-4 pt-2 pb-6 space-y-6">
    <!-- Onboarding (Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·) -->
    <section id="onboarding" class="rounded-3xl ring glass p-5 md:p-8 hidden">
      <div class="flex items-center justify-between">
        <h2 class="text-xl md:text-2xl font-bold">Ù…Ø±Ø­Ø¨Ù‹Ø§ ğŸ‘‹ Ø§Ø®ØªÙØ± ØªÙØ¶ÙŠÙ„Ø§ØªÙƒ Ø§Ù„Ø£ÙˆÙ„</h2>
        <p id="step-indicator" class="text-xs text-slate-400">Ø§Ù„Ø®Ø·ÙˆØ© 1 Ù…Ù† 2</p>
      </div>

      <!-- ÙØ±Ù‚ -->
      <div id="step-teams" class="mt-5 fade invis">
        <p class="text-sm text-slate-300 mb-3">Ø§Ø®ØªÙØ± ÙØ±ÙŠÙ‚Ùƒ/ÙØ±Ù‚Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø© (ÙØ±ÙŠÙ‚ ÙˆØ§Ø­Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„):</p>
        <div id="teams-list" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"></div>
        <div class="mt-6 flex justify-end">
          <button id="to-players" disabled class="rounded-2xl bg-emerald-500/60 px-5 py-2 text-black font-semibold disabled:opacity-50 disabled:cursor-not-allowed">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        </div>
      </div>

      <!-- Ù„Ø§Ø¹Ø¨ÙŠÙ† -->
      <div id="step-players" class="mt-5 hidden fade invis">
        <div class="flex flex-wrap items-center gap-3">
          <p class="text-sm text-slate-300">Ø§Ø®ØªÙØ± Ù„Ø§Ø¹Ø¨ÙŠÙ† ØªØªØ§Ø¨Ø¹Ù‡Ù… (Ø§Ø®ØªÙŠØ§Ø±ÙŠØŒ Ø­ØªÙ‰ 5):</p>
          <input id="player-search" class="px-3 py-2 rounded-xl bg-slate-900/70 border border-slate-700 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨â€¦"/>
        </div>
        <div id="players-list" class="mt-4 grid sm:grid-cols-2 md:grid-cols-3 gap-3"></div>

        <div class="mt-6 flex justify-between">
          <button id="back-to-teams" class="rounded-2xl ring px-5 py-2">Ø±Ø¬ÙˆØ¹</button>
          <button id="finish-onboarding" class="rounded-2xl bg-emerald-500 px-5 py-2 text-black font-semibold">Ø§Ø¨Ø¯Ø£</button>
        </div>
      </div>
    </section>

    <!-- ØªØ¨ÙˆÙŠØ¨: Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª -->
    <section id="tab-matches" class="rounded-3xl ring glass p-5 md:p-8 hidden">
    <h2 class="text-xl md:text-2xl font-bold">Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</h2>
      <div id="fixtures" class="mt-4 grid gap-3"></div>
    </section>

    <!-- ØªØ¨ÙˆÙŠØ¨: Ø§Ù„ÙØ§Ù†ØªØ²ÙŠ -->
<section id="tab-fantasy" class="rounded-3xl ring glass p-0 md:p-0">
 <!-- ÙƒØ§Ø±Ø¯ Ø§Ø¨Ù† ÙØ±ÙŠÙ‚Ùƒ Ø§Ù„Ø¢Ù† -->
<div class="relative overflow-hidden rounded-3xl ring bg-card min-h-[260px] hero-card">
  <img
    src="./assets/football-stadium-with-crowd-people-lights_587448-8386.jpg"
    alt="Ù…Ù„Ø¹Ø¨ ÙƒØ±Ø© Ù‚Ø¯Ù… Ø¨Ø¬Ù…Ø§Ù‡ÙŠØ±"
    loading="lazy"
  >
  <a href="builder.html" class="relative z-10 block p-6 md:p-10 group">
    <div class="max-w-2xl">
      <div class="inline-flex items-center gap-3 rounded-2xl bg-white text-black px-4 py-2 transition transform group-hover:scale-[1.02] hero-cta">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14M5 12h14"/>
        </svg>
        <span class="font-extrabold text-lg md:text-xl">Ø§Ø¨Ù† ÙØ±ÙŠÙ‚Ùƒ Ø§Ù„Ø¢Ù†</span>
      </div>
      <p class="mt-3 text-slate-200/95 text-sm md:text-base">
        Ø§Ø¨Ø¯Ø£ Ø¨Ø¨Ù†Ø§Ø¡ ØªØ´ÙƒÙŠÙ„ØªÙƒ â€” Ù‡Ù†Ø­Ø³Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© ÙˆÙ†Ø¶Ù…Ù† Ø§Ù„Ù…Ø±Ø§ÙƒØ² ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§.
      </p>
    </div>
  </a>
</div>

      <!-- ØªÙØ¶ÙŠÙ„Ø§Øª + Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ† -->
      <div class="p-5 md:p-8 grid md:grid-cols-3 gap-6">
        <div class="rounded-2xl ring glass p-4 md:col-span-1">
          <h3 class="font-semibold">ØªÙØ¶ÙŠÙ„Ø§ØªÙƒ</h3>
          <div id="favSummary" class="mt-2 text-xs text-slate-300"></div>
        </div>

        <div class="rounded-2xl ring glass p-4 md:col-span-2">
          <div class="flex items-center justify-between">
            <h3 class="font-semibold">Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ†</h3>
            <span class="text-xs text-slate-400">ØªØ¬Ø±ÙŠØ¨ÙŠ</span>
          </div>
          <div class="mt-3 overflow-x-auto">
            <table class="w-full text-sm">
              <thead class="text-slate-300">
<tr class="text-right">
  <th class="py-2 w-12 text-center">#</th>
  <th class="py-2 text-right">Ø§Ù„Ù„Ø§Ø¹Ø¨</th>
  <th class="py-2 text-right">Ø§Ù„ÙØ±ÙŠÙ‚</th>
  <th class="py-2 text-right">Ø§Ù„Ù†Ù‚Ø§Ø·</th>
</tr>
              </thead>
              <tbody id="leaderboard" class="text-slate-200"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- ØªØ¨ÙˆÙŠØ¨: Ø§Ù„Ø£Ø®Ø¨Ø§Ø± -->
<section id="tab-news" class="rounded-3xl ring glass p-5 md:p-8 hidden">
      <h2 class="text-xl md:text-2xl font-bold">Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
      <div id="newslist" class="mt-4 grid md:grid-cols-3 gap-3"></div>
    </section>
  </main>

  <footer class="max-w-7xl mx-auto px-4 py-10 text-slate-400 text-sm">
    <div class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
      <p>powered by: AYMAN REFAAT</p>
      <p class="text-xs">Â© <span id="yr"></span> Fantasy Egypt Pro</p>
    </div>
  </footer>

<script>
(()=> {
  // ===== Ø¨ÙŠØ§Ù†Ø§Øª Ø¹ÙŠÙ‘Ù†Ø© =====
  // Ø«ÙŠÙ…Ø§Øª Ø§Ù„Ø£Ù†Ø¯ÙŠØ© (Ù„ÙˆØ¬Ùˆ + Ø£Ù„ÙˆØ§Ù†)

// Ø«ÙŠÙ…Ø§Øª Ø§Ù„Ø£Ù†Ø¯ÙŠØ©: Ù„ÙˆÙ† Ø£Ø³Ø§Ø³ÙŠ + Ù„ÙˆÙ† Ù†Øµ + Ø´Ø¹Ø§Ø± (Ù…Ù† /club-logos/)
const TEAM_THEME = {
  'Ø§Ù„Ø£Ù‡Ù„ÙŠ':               { color:'#C8102E', text:'#FFFFFF', logo:'/club-logos/AlAhly.png' },

  'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ':              { color:'#FFFFFF', text:'#111111', logo:'/club-logos/zamalek.png', border:'#dc2626' },

  'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²':             { color:'#38BDF8', text:'#0B1220', logo:'/club-logos/Pyramids.png' },

  'Ø§Ù„Ù…ØµØ±ÙŠ':               { color:'#16A34A', text:'#FFFFFF', logo:'/club-logos/Masry.png' },              // Ø£Ø®Ø¶Ø±
  'Ø§Ù„Ø§Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠ':           { color:'#FACC15', text:'#0B1220', logo:'/club-logos/Ismaily.png' },           // Ø£ØµÙØ±
  'ÙÙŠÙˆØªØ´Ø±':               { color:'#F87171', text:'#0B1220', logo:'/club-logos/Future.png' },            // Ø£Ø­Ù…Ø± ÙØ§ØªØ­
  'Ø³Ù…ÙˆØ­Ø©':                { color:'#2563EB', text:'#FFFFFF', logo:'/club-logos/Smouha.png' },

  'Ø²Ø¯':                   { color:'#065F46', text:'#FFFFFF', logo:'/club-logos/Zed.png' },               // Ø£Ø®Ø¶Ø± Ø¯Ø§ÙƒÙ†

  'Ø³ÙŠØ±Ø§Ù…ÙŠÙƒØ§ ÙƒÙ„ÙŠÙˆØ¨Ø§ØªØ±Ø§':   { color:'#7F1D1D', text:'#FFFFFF', logo:'/club-logos/Ø³ÙŠØ±Ø§Ù…ÙŠÙƒØ§.png' },         // Ø£Ø­Ù…Ø± Ø¯Ù… ØºØ²Ø§Ù„ÙŠ
  'Ø§Ù†Ø¨ÙŠ':                 { color:'#1F4E5F', text:'#FFFFFF', logo:'/club-logos/Enppi.png' },             // Ø£Ø²Ø±Ù‚ Ø¨ØªØ±ÙˆÙ„ÙŠ
  'Ø·Ù„Ø§Ø¦Ø¹ Ø§Ù„Ø¬ÙŠØ´':          { color:'#DC2626', text:'#FFFFFF', logo:'/club-logos/Ø·Ù„Ø§Ø¦Ø¹_Ø§Ù„Ø¬ÙŠØ´.png' },       // Ø£Ø­Ù…Ø±
  'Ø§Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø³ÙƒÙ†Ø¯Ø±ÙŠ':      { color:'#16A34A', text:'#FFFFFF', logo:'/club-logos/Ø§Ù„Ø§ØªØ­Ø§Ø¯_Ø§Ù„Ø³ÙƒÙ†Ø¯Ø±ÙŠ.png' }, // Ø£Ø®Ø¶Ø±

  'Ø§Ù„Ø¬ÙˆÙ†Ø©':               { color:'#FFFFFF', text:'#111111', logo:'/club-logos/ElGouna.png', border:'#e5e7eb' }, // Ø£Ø¨ÙŠØ¶

  'Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù‡Ù„ÙŠ':         { color:'#FB923C', text:'#0B1220', logo:'/club-logos/NBE.png' },               // Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ "Ù…Ø´ ÙØ§Ù‚Ø¹"
  'ØºØ²Ù„ Ø§Ù„Ù…Ø­Ù„Ø©':           { color:'#38BDF8', text:'#0B1220', logo:'/club-logos/ØºØ²Ù„_Ø§Ù„Ù…Ø­Ù„Ø©.png' },        // Ø³Ù…Ø§ÙˆÙŠ
  'ÙØ§Ø±ÙƒÙˆ':                { color:'#EA580C', text:'#0B1220', logo:'/club-logos/Pharco.png' },            // Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ Ù‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø­Ù…Ø±

  'Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ÙˆÙ† Ø§Ù„Ø¹Ø±Ø¨':      { color:'#F59E0B', text:'#0B1220', logo:'/club-logos/Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ÙˆÙ†.png' },         // Ø£ØµÙØ± Ù…Ø´ ÙØ§Ù‚Ø¹
  'Ø­Ø±Ø³ Ø§Ù„Ø­Ø¯ÙˆØ¯':           { color:'#DC2626', text:'#FFFFFF', logo:'/club-logos/HarasElHodoud.png' },     // Ø£Ø­Ù…Ø±
  'ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©':   { color:'#FACC15', text:'#0B1220', logo:'/club-logos/Ù†Ø§Ø¯ÙŠ_ÙƒÙ‡Ø±Ø¨Ø§Ø¡_Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©.png' }, // Ø£ØµÙØ±
  'ÙˆØ§Ø¯ÙŠ Ø¯Ø¬Ù„Ø©':            { color:'#CA8A04', text:'#0B1220', logo:'/club-logos/Wadi_Degla.png' },        // Ø£ØµÙØ± ØºØ§Ù…Ù‚ Ø´ÙˆÙŠØ©
  'Ø¨ØªØ±ÙˆØ¬ÙŠØª':              { color:'#DC2626', text:'#FFFFFF', logo:'/club-logos/Petrojet.png' }           // Ø£Ø­Ù…Ø±
};
const TEAMS = [
  'Ø§Ù„Ø£Ù‡Ù„ÙŠ',
  'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ',
  'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²',

  'Ø§Ù„Ù…ØµØ±ÙŠ',
  'Ø§Ù„Ø§Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠ',
  'ÙÙŠÙˆØªØ´Ø±',
  'Ø³Ù…ÙˆØ­Ø©',

  'Ø²Ø¯',
  'Ø³ÙŠØ±Ø§Ù…ÙŠÙƒØ§ ÙƒÙ„ÙŠÙˆØ¨Ø§ØªØ±Ø§',
  'Ø§Ù†Ø¨ÙŠ',
  'Ø·Ù„Ø§Ø¦Ø¹ Ø§Ù„Ø¬ÙŠØ´',
  'Ø§Ù„Ø§ØªØ­Ø§Ø¯ Ø§Ù„Ø³ÙƒÙ†Ø¯Ø±ÙŠ',

  'Ø§Ù„Ø¬ÙˆÙ†Ø©',
  'Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ø£Ù‡Ù„ÙŠ',
  'ØºØ²Ù„ Ø§Ù„Ù…Ø­Ù„Ø©',
  'ÙØ§Ø±ÙƒÙˆ',
  'Ø§Ù„Ù…Ù‚Ø§ÙˆÙ„ÙˆÙ† Ø§Ù„Ø¹Ø±Ø¨',
  'Ø­Ø±Ø³ Ø§Ù„Ø­Ø¯ÙˆØ¯',
  'ÙƒÙ‡Ø±Ø¨Ø§Ø¡ Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©',
  'ÙˆØ§Ø¯ÙŠ Ø¯Ø¬Ù„Ø©',
  'Ø¨ØªØ±ÙˆØ¬ÙŠØª'
];
  const PLAYERS = [
    {name:'Ù…Ø­Ù…Ø¯ Ø§Ù„Ø´Ù†Ø§ÙˆÙŠ', team:'Ø§Ù„Ø£Ù‡Ù„ÙŠ',    pos:'GK',  price:7.0},
    {name:'Ø¹Ù„ÙŠ Ù„Ø·ÙÙŠ',     team:'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ',   pos:'GK',  price:5.5},
    {name:'Ø¹Ù„ÙŠ Ø¬Ø¨Ø±',      team:'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²',  pos:'DEF', price:6.0},
    {name:'Ø¹Ù…Ø± ÙƒÙ…Ø§Ù„',     team:'ÙÙŠÙˆØªØ´Ø±',    pos:'DEF', price:5.5},
    {name:'Ù…Ø­Ù…ÙˆØ¯ Ø¹Ù„Ø§Ø¡',   team:'Ø§Ù„Ø§ØªØ­Ø§Ø¯',   pos:'DEF', price:5.5},
    {name:'Ø­Ù…Ø¯ÙŠ ÙØªØ­ÙŠ',    team:'Ø§Ù„Ø£Ù‡Ù„ÙŠ',    pos:'MID', price:7.5},
    {name:'Ø¥Ù…Ø§Ù… Ø¹Ø§Ø´ÙˆØ±',   team:'Ø§Ù„Ø£Ù‡Ù„ÙŠ',    pos:'MID', price:8.0},
    {name:'Ø²ÙŠØ²Ùˆ',         team:'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ',   pos:'MID', price:10.0},
    {name:'Ù…Ø±ÙˆØ§Ù† Ø­Ù…Ø¯ÙŠ',   team:'Ø§Ù„Ù…ØµØ±ÙŠ',    pos:'FWD', price:6.5},
    {name:'Ø£Ø­Ù…Ø¯ Ø±ÙØ¹Øª',    team:'Ø§Ù„Ù…ØµØ±ÙŠ',    pos:'MID', price:6.0},
    {name:'Ù†Ø§ØµØ± Ù…Ù†Ø³ÙŠ',    team:'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ',   pos:'FWD', price:6.0},
    {name:'Ø±Ù…Ø¶Ø§Ù† ØµØ¨Ø­ÙŠ',   team:'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²',  pos:'MID', price:9.5},
    {name:'Ù…ØµØ·ÙÙ‰ ÙØªØ­ÙŠ',   team:'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²',  pos:'MID', price:8.5},
    {name:'Ù…Ø­Ù…Ø¯ Ø­Ù…Ø¯ÙŠ',    team:'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²',  pos:'DEF', price:5.0},
  ];
  const FIXTURES = [
    {home:'Ø§Ù„Ø£Ù‡Ù„ÙŠ', away:'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ', time:'Ø§Ù„Ø¬Ù…Ø¹Ø© 20:00'},
    {home:'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²', away:'ÙÙŠÙˆØªØ´Ø±', time:'Ø§Ù„Ø³Ø¨Øª 18:30'},
    {home:'Ø§Ù„Ù…ØµØ±ÙŠ', away:'Ø§Ù„Ø§ØªØ­Ø§Ø¯', time:'Ø§Ù„Ø£Ø­Ø¯ 17:00'},
  ];
  const SAMPLE_NEWS = [
    {title:'ØªØ­Ø¯ÙŠØ« Ù†Ù‚Ø§Ø· Ø§Ù„Ø¬ÙˆÙ„Ø© 3', body:'ØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø· Ø¨Ø¹Ø¯ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª.'},
    {title:'ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©', body:'ØªÙ… Ø¥Ø¶Ø§ÙØ© ØªØ±Ø§Ù†Ø²ÙŠØ´Ù†Ø§Øª Ø³Ù…ÙˆØ² ÙˆÙƒØ§Ø±Ø¯ Ø¨Ù†Ø§Ø¡ ÙØ±ÙŠÙ‚.'},
    {title:'Ø±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', body:'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¶ÙŠØ± Ù„Ø±Ø¨Ø· Ù…Ø²ÙˆÙ‘Ø¯ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø±Ø³Ù…ÙŠ.'},
  ];
  const LEADERS = [
    {rank:1, name:'Ahmed Pro',   team:'Ø§Ù„Ø£Ù‡Ù„ÙŠ',    pts:124},
    {rank:2, name:'Zizo Master', team:'Ø§Ù„Ø²Ù…Ø§Ù„Ùƒ',   pts:118},
    {rank:3, name:'PyramidsX',   team:'Ø¨ÙŠØ±Ø§Ù…ÙŠØ¯Ø²',  pts:112},
    {rank:4, name:'Future FC',   team:'ÙÙŠÙˆØªØ´Ø±',    pts:105},
    {rank:5, name:'Ismailia',    team:'Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠ', pts:98},
  ];

  // Ø³Ù†Ø© Ø§Ù„ÙÙˆØªØ±
  const yr = document.getElementById('yr'); if (yr) yr.textContent = new Date().getFullYear();

  // Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† localStorage (fantasy_user: {name,email}) Ø£Ùˆ fantasy_email
  const userSpan = document.getElementById('username');
  try {
    const raw = localStorage.getItem('fantasy_user');
    if (raw) {
      const u = JSON.parse(raw);
      let display = (u.name && u.name.trim()) ? u.name.trim() : '';
      if (!display && u.email) display = String(u.email).split('@')[0];
      if (display) userSpan.textContent = display;
    } else {
      const emailOnly = localStorage.getItem('fantasy_email');
      if (emailOnly) userSpan.textContent = String(emailOnly).split('@')[0];
    }
  } catch(_) {}

  // ===== ØªØ¨ÙˆÙŠØ¨Ø§Øª =====
  const tabBtns = [...document.querySelectorAll('.tabbtn')];
  const tabs = {
    matches: document.getElementById('tab-matches'),
    fantasy: document.getElementById('tab-fantasy'),
    news:    document.getElementById('tab-news'),
  };

function switchTab(id){
  Object.values(tabs).forEach(el => el.classList.add('hidden'));   // ÙŠØ®ÙÙŠ Ø§Ù„ÙƒÙ„ (display:none)
  const show = tabs[id];
  show.classList.remove('hidden');                                  // ÙŠØ¸Ù‡Ø± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
  tabBtns.forEach(b=> b.classList.remove('bg-white','text-black'));
  tabBtns.filter(b=> b.dataset.tab===id).forEach(b=> b.classList.add('bg-white','text-black'));
  window.scrollTo({top:0, behavior:'smooth'});
}
  tabBtns.forEach(b=> b.addEventListener('click', ()=> switchTab(b.dataset.tab)));

  // Ù…Ø¨Ø§Ø±ÙŠØ§Øª
  const fixtures = document.getElementById('fixtures');
  FIXTURES.forEach(f=>{
    const row = document.createElement('div');
    row.className = 'rounded-2xl ring glass p-3 flex items-center justify-between text-sm fade invis';
    row.innerHTML = `<span>${f.home} vs ${f.away}</span><span class="text-slate-400">${f.time}</span>`;
    fixtures.appendChild(row);
    requestAnimationFrame(()=> { row.classList.remove('invis'); row.classList.add('vis'); });
  });

  // Ø§Ù„Ù…ØªØµØ¯Ø±ÙˆÙ†
  const leaderboard = document.getElementById('leaderboard');
  LEADERS.forEach(l=>{
    const tr = document.createElement('tr');
    tr.className = 'border-t border-white/5';
    tr.innerHTML = `
  <td class="py-2 w-12 text-center text-slate-400">${l.rank}</td>
  <td class="py-2 text-right">${l.name}</td>
  <td class="py-2 text-right text-slate-300">${l.team}</td>
  <td class="py-2 text-right font-semibold">${l.pts}</td>
`;
    leaderboard.appendChild(tr);
  });

  // Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
  const newslist = document.getElementById('newslist');
  SAMPLE_NEWS.forEach(n=>{
    const card = document.createElement('div');
    card.className = 'rounded-2xl ring glass p-3 fade invis';
    card.innerHTML = `<div class="font-semibold">${n.title}</div><p class="text-sm text-slate-300 mt-1">${n.body}</p>`;
    newslist.appendChild(card);
    requestAnimationFrame(()=> { card.classList.remove('invis'); card.classList.add('vis'); });
  });

  // ===== Onboarding =====
  const onboarding = document.getElementById('onboarding');
  const stepIndicator = document.getElementById('step-indicator');
  const stepTeams = document.getElementById('step-teams');
  const stepPlayers = document.getElementById('step-players');
  const teamsList = document.getElementById('teams-list');
  const toPlayers = document.getElementById('to-players');
  const playerSearch = document.getElementById('player-search');
  const playersList = document.getElementById('players-list');
  const backToTeams = document.getElementById('back-to-teams');
  const finishOnboarding = document.getElementById('finish-onboarding');
  const favSummary = document.getElementById('favSummary');
  const editBtn = document.getElementById('editPrefs'); // Ø²Ø± "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª"

  const st = { favTeams:new Set(), favPlayers:new Set() };

  
  function renderFavSummary(){
  const favTeams = JSON.parse(localStorage.getItem('favTeams')||'[]');
  if (!favTeams.length) {
    favSummary.innerHTML = `<div class="text-slate-400 text-xs">Ù„Ø§ ØªÙˆØ¬Ø¯ ÙØ±Ù‚ Ù…ÙØ¶Ù„Ø© Ø¨Ø¹Ø¯</div>`;
    return;
  }
  const chips = favTeams.map(name=>{
    const th = TEAM_THEME[name] || {};
    const bg = th.color || 'rgba(15,23,42,.7)';
    const tc = th.text  || '#fff';
    const bd = th.border ? `border:1px solid ${th.border};` : '';
    const logo = th.logo
  ? `<img src="${th.logo}" class="h-5 w-5 object-contain shrink-0 drop-shadow-[0_1px_1px_rgba(0,0,0,.45)]" alt="${name}">`
  : `<span class="h-5 w-5 grid place-items-center text-[10px] font-bold">${name[0]}</span>`;
    return `
      <span class="inline-flex items-center gap-2 rounded-xl px-2.5 py-1 mr-2 mb-2"
            style="background:${bg}; color:${tc}; ${bd}">
        ${logo}
        <span class="text-xs">${name}</span>
      </span>`;
  }).join('');

  const favPlayers = JSON.parse(localStorage.getItem('favPlayers')||'[]');
  const playersLine = favPlayers.length ? `<div class="mt-2 text-slate-300 text-xs">Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ†: ${favPlayers.join('ØŒ ')}</div>` : '';

  favSummary.innerHTML = chips + playersLine;
}

  // (1) buildTeams Ù…Ø¹ Ø®ÙŠØ§Ø± prefill
  function buildTeams(prefill=false){
  teamsList.innerHTML = '';
  TEAMS.forEach(t=>{
    const theme = TEAM_THEME[t] || { color:'rgba(15,23,42,.7)', text:'#fff', logo:'' };
    const btn = document.createElement('button');
    btn.className = 'team-btn relative flex items-center gap-2 rounded-2xl ring px-3 py-2 text-sm transition hover:scale-[1.01]';
    btn.style.background = theme.color;
    btn.style.color = theme.text;
    if (theme.border) { btn.style.border = `1px solid ${theme.border}`; }

    btn.innerHTML = `
  ${theme.logo
    ? `<img src="${theme.logo}" alt="${t}"
            class="h-6 w-6 object-contain shrink-0 drop-shadow-[0_1px_1.5px_rgba(0,0,0,0.45)]">`
    : `<span class="h-6 w-6 grid place-items-center text-[10px] font-bold">${t[0]}</span>`}
  <span>${t}</span>
`;

    // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ø®ØªØ§Ø± Ù…Ø³Ø¨Ù‚Ù‹Ø§
    if (prefill && st.favTeams.has(t)) {
      btn.classList.add('ring-2','ring-emerald-400','shadow-[0_0_0_3px_rgba(16,185,129,.25)]');
    }

    btn.addEventListener('click', ()=>{
      if (st.favTeams.has(t)) {
        st.favTeams.delete(t);
        btn.classList.remove('ring-2','ring-emerald-400','shadow-[0_0_0_3px_rgba(16,185,129,.25)]');
      } else {
        st.favTeams.add(t);
        btn.classList.add('ring-2','ring-emerald-400','shadow-[0_0_0_3px_rgba(16,185,129,.25)]');
      }
      toPlayers.disabled = st.favTeams.size < 1;
    });

    teamsList.appendChild(btn);
  });
}

  function renderPlayers(){
    const term = (playerSearch.value||'').trim();
    const filtered = PLAYERS.filter(p=> term? p.name.includes(term) : true);
    playersList.innerHTML = '';
    filtered.forEach(p=>{
      const selected = st.favPlayers.has(p.name);
      const card = document.createElement('div');
      card.className = 'rounded-2xl ring glass p-3 text-sm fade invis';
      card.innerHTML = `
        <div class="flex items-center justify-between gap-2">
          <div><div class="font-semibold">${p.name}</div><div class="text-xs text-slate-400">${p.team} â€¢ ${p.pos}</div></div>
          <div class="text-xs">${p.price}M</div>
        </div>
        <button class="mt-3 w-full rounded-xl ${selected?'bg-red-500':'bg-emerald-500'} text-black font-semibold py-2">${selected?'Ø¥Ø²Ø§Ù„Ø©':'Ø¥Ø¶Ø§ÙØ©'}</button>
      `;
      const btn = card.querySelector('button');
      btn.addEventListener('click', ()=>{
        if (st.favPlayers.has(p.name)) st.favPlayers.delete(p.name);
        else { if (st.favPlayers.size>=5) return; st.favPlayers.add(p.name); }
        renderPlayers();
      });
      playersList.appendChild(card);
      requestAnimationFrame(()=> { card.classList.remove('invis'); card.classList.add('vis'); });
    });
  }

  // (2) Ø¯Ø§Ù„Ø© ØªÙØªØ­ Ø§Ù„Ù€ Onboarding ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª + ØªÙ…Ù„Ù‘ÙŠ Ø§Ù„Ù‚Ø¯ÙŠÙ…
  function openOnboarding(edit=false){
    // Ø­Ù…Ù‘Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù…Ù† localStorage
    st.favTeams   = new Set(JSON.parse(localStorage.getItem('favTeams')||'[]'));
    st.favPlayers = new Set(JSON.parse(localStorage.getItem('favPlayers')||'[]'));

    onboarding.classList.remove('hidden');
    stepIndicator.textContent = 'Ø§Ù„Ø®Ø·ÙˆØ© 1 Ù…Ù† 2';
    stepPlayers.classList.add('hidden');
    stepTeams.classList.remove('hidden');

    // Ø§Ø¨Ù†ÙŠ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙØ±Ù‚ Ù…Ø¹ ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ø®ØªØ§Ø±
    buildTeams(true);
    toPlayers.disabled = st.favTeams.size < 1;

    requestAnimationFrame(()=> { stepTeams.classList.remove('invis'); stepTeams.classList.add('vis'); });

    // Ù„Ùˆ Ø¶ØºØ·Øª ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª Ù‡Ù†ÙØªØ­ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù…Ø¤Ù‚ØªÙ‹Ø§
    if (edit) switchTab('matches');
  }

  // Ø±Ø¨Ø· Ø²Ø± "ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª"
  editBtn?.addEventListener('click', ()=> openOnboarding(true));

  // Ø§Ù†ØªÙ‚Ø§Ù„ Ø¨ÙŠÙ† Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø£ÙˆÙ†Ø¨ÙˆØ±Ø¯Ù†Ø¬
  toPlayers?.addEventListener('click', ()=>{
    stepIndicator.textContent = 'Ø§Ù„Ø®Ø·ÙˆØ© 2 Ù…Ù† 2';
    stepTeams.classList.add('hidden');
    stepPlayers.classList.remove('hidden');
    requestAnimationFrame(()=> { stepPlayers.classList.remove('invis'); stepPlayers.classList.add('vis'); });
    renderPlayers();
  });
  backToTeams?.addEventListener('click', ()=>{
    stepIndicator.textContent = 'Ø§Ù„Ø®Ø·ÙˆØ© 1 Ù…Ù† 2';
    stepPlayers.classList.add('hidden');
    stepTeams.classList.remove('hidden');
    requestAnimationFrame(()=> { stepTeams.classList.remove('invis'); stepTeams.classList.add('vis'); });
  });
  finishOnboarding?.addEventListener('click', ()=>{
    localStorage.setItem('favTeams', JSON.stringify([...st.favTeams]));
    localStorage.setItem('favPlayers', JSON.stringify([...st.favPlayers]));
    localStorage.setItem('onboarded','1');
    onboarding.classList.add('hidden');
    renderFavSummary();
    switchTab('fantasy'); // Ø¨Ø¹Ø¯ Ù…Ø§ ÙŠØ®Ù„ØµØŒ Ù†ÙØªØ­ Ø§Ù„ÙØ§Ù†ØªØ²ÙŠ
  });

  // ===== Ø§Ù„Ø¥Ù‚Ù„Ø§Ø¹ =====
  function init(){
    // Ø£ÙˆÙ„ Ù…Ø±Ø© ÙˆÙ„Ø§ Ù„Ø£ØŸ
    if (localStorage.getItem('onboarded') !== '1') {
      onboarding.classList.remove('hidden');
      // Ø¨Ø¯Ø§ÙŠØ© Ø¨Ø¯ÙˆÙ† prefill
      st.favTeams = new Set();
      st.favPlayers = new Set();
      buildTeams(false);
      requestAnimationFrame(()=> { stepTeams.classList.remove('invis'); stepTeams.classList.add('vis'); });
      switchTab('matches'); // Ù…Ø¤Ù‚ØªÙ‹Ø§
    } else {
      renderFavSummary();
      switchTab('fantasy'); // Ù„Ùˆ Ù…Ø®Ù„Ù‘Øµ Ù‚Ø¨Ù„ ÙƒØ¯Ù‡ Ù†ÙØªØ­ Ø§Ù„ÙØ§Ù†ØªØ²ÙŠ
    }
  }
  init();
})();
</script>
</body>
</html>